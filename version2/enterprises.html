<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/favicon.ico">
    <link rel="icon" type="image/png" href="./assets/img/favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Site Title</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />
    <!-- nav -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css'>
    <link rel="stylesheet" href="./assets/css/navigation.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:300,300i,400,600,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!-- CSS -->
    <link href="./assets/css/main.css" rel="stylesheet" />
    <link href="./assets/css/vendor/aos.css" rel="stylesheet" />
    <link href="./assets/css/card.css" rel="stylesheet" />
    <link href="./assets/css/style.css" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .echarts-map {
            width: 100%;
            height: 100vh;
        }

        body {
            height: 450px;
            background-image: linear-gradient(#416eeb3a, #ffffff);
            background-repeat: no-repeat;
        }
    </style>
</head>

<body>

    <!-- navigaation -->
    <header class="header-area nav-overlay">
        <nav class="navbar navbar-expand-md navbar-dark">
            <div class="container">
                <a href="#" class="navbar-brand">Work</a>

                <div id="main-nav" class="collapse navbar-collapse">
                    <ul class="navbar-nav ml-auto">
                        <li><a href="./work-main.html" class="nav-item nav-link active">Home</a></li>
                        <li class="dropdown">
                            <a href="#" class="nav-item nav-link" data-toggle="dropdown">Policy</a>
                            <div class="dropdown-menu">
                                <a href="./policy.html#policy_item1" class="dropdown-item">College graduates</a>
                                <a href="./policy.html#policy_item2" class="dropdown-item">Migrant worker</a>
                                <a href="./policy.html#policy_item3" class="dropdown-item">Entrepreneurship</a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="nav-item nav-link" data-toggle="dropdown">Enterprise</a>
                            <div class="dropdown-menu">
                                <a href="#rg" class="dropdown-item">Region</a>
                                <a href="#soc" class="dropdown-item">State-owned</a>
                                <a href="#individual" class="dropdown-item">Individual</a>
                                <a href="#foreign" class="dropdown-item">Foreign</a>
                            </div>
                        </li>
                        <li><a href="./prospect.html" class="nav-item nav-link">Prospect</a></li>
                        <li><a href="#footer" class="nav-item nav-link">Contact us</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!--distribution map-->
        <div class="region" id="rg">
            <h1>A-share listed companies distribution</h1>
            <div class="echarts-map" id="3dMap"></div>
        </div>

        <div class="enterprises">
            <p style="height: 10px;"></p>
            <h1 id="soc">STATE-OWNED COMPANIES</h1>
            <div class="card-box">
                <div class="card-row">
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/CDbank.jpg">
                        </div>
                        <div class="compInf">
                            <div class="title">Bank of Chengdu</div>
                            <div class="text">One of the most famous local commercial banks in China</div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/CDRCB.jpg">
                        </div>
                        <div class="compInf">
                            <div class="title">Chengdu Rural Commercial Bank</div>
                            <div class="text">The bank with the widest coverage and the most service halls</div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/Mobile.png">
                        </div>
                        <div class="compInf">
                            <div class="title">China Mobile Chengdu branch</div>
                            <div class="text">The operator with the largest market in China</div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/state-grid.jpg">
                        </div>
                        <div class="compInf">
                            <div class="title">Chengdu Electric Power Bureau</div>
                            <div class="text">Ranking No. 3 on the Fortune 500 list in 2022</div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/CDtransport.jpg" style="height: 200px; margin:0 auto">
                        </div>
                        <div class="compInf">
                            <div class="title">Chengdu Pubilc Transport</div>
                            <div class="text">To build a first-class modern public transport industry group</div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="compImg">
                            <img src="./images/CMG.jpg">
                        </div>
                        <div class="compInf">
                            <div class="title">Chengdu Media Group</div>
                            <div class="text">The economic scale has been among the top three in China for eight years
                            </div>
                            <div class="more-text"><a href="#" class="btn btn-outline-primary btn-round">Learn more!</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <h1 id="individual">INDIVIDUAL COMPANIES</h1>
        </div>

        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px" y="0px" viewBox="0 0 1440 126" style="enable-background:new 0 0 1440 126; fill: #171751;"
            xml:space="preserve">
            <path class="bg-black"
                d="M685.6,38.8C418.7-11.1,170.2,9.9,0,30v96h1440V30C1252.7,52.2,1010,99.4,685.6,38.8z">
            </path>
        </svg>
        <footer class="bg-black pb-5" id="footer" style="background-color: #171751;">
            <div class="container">
                <div class="row">
                    <div class="col-12 col-md mr-4">
                        <i class="fas fa-copyright text-white"></i>
                        <small class="d-block mt-3 mb-3 text-muted">EBU6305 Group40 Coursework</small>
                    </div>
                    <div class="col-6 col-md">
                        <h5 class="mb-4 text-white">Policy</h5>
                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="./policy.html#policy_item1">Local graduates</a></li>
                            <li><a class="text-muted" href="./policy.html#policy_item2">Migrant workers</a></li>
                            <li><a class="text-muted" href="./policy.html#policy_item3">Entrepreneurship</a></li>
                        </ul>
                    </div>
                    <div class="col-6 col-md">
                        <h5 class="mb-4 text-white">Enterprise</h5>

                        <ul class="list-unstyled text-small">
                            <li><a class="text-muted" href="#rg">Region</a></li>
                            <li><a class="text-muted" href="#soc">State-owned</a></li>
                            <li><a class="text-muted" href="#individual">Individual</a></li>
                            <li><a class="text-muted" href="#foreign">Foreign</a></li>
                        </ul>
                    </div>
                    <div class="col-6 col-md">
                        <h5 class="mb-4 text-white">Prospect</h5>
                    </div>
                    <div class="col-6 col-md">
                        <h5 class="mb-4 text-white">Contact us</h5>
                        <p style="color : white">xxxxxxx@xx.xxx</p>

                    </div>
                </div>
            </div>
        </footer>





        <!-- Javascript -->
        <script src="./assets/js/vendor/jquery.min.js" type="text/javascript"></script>
        <script src="./assets/js/vendor/popper.min.js" type="text/javascript"></script>
        <script src="./assets/js/vendor/bootstrap.min.js" type="text/javascript"></script>
        <script src="./assets/js/functions.js" type="text/javascript"></script>
        <script src="./assets/js/nav.js"></script>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>
        <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.1.2/echarts.min.js"></script>
        <script>
            let mapEcharts = null;
            loadMap(510100, false);

            function loadMap(areaCode, notFirstLoad = true) {
                fetch(`https://raw.githubusercontent.com/jryyy02/Interactive-media/main/geoAtlasJson.json`)
                    .then((res) => res.json())
                    .then((res) => {
                        if (notFirstLoad) {
                            echarts.dispose(mapEcharts);
                        }
                        initMap(areaCode, res);
                    })
                    .catch((err) => {
                        alert("error");
                    });
            }

            // map initialisation
            function initMap(mapName, mapData) {
                mapEcharts = echarts.init(document.getElementById("3dMap"));
                echarts.registerMap(mapName, mapData);


                let options = {
                    series: [
                        {
                            name: "A-share Listed Companies",
                            type: "map",
                            map: mapName,
                            roam: false,
                            data: [
                                { name: 'Chenghua', value: 2 },
                                { name: 'Wuhou', value: 45 },
                                { name: 'Pidu', value: 17 },
                                { name: 'Shuangliu', value: 12 },
                                { name: 'Qingyang', value: 9 },
                                { name: 'Jinjiang', value: 6 },
                                { name: 'Jinniu', value: 6 },
                                { name: 'Longquanyi', value: 5 },
                                { name: 'Xindu', value: 3 },
                                { name: 'Dayi', value: 3 },
                                { name: 'Xinjin', value: 2 },
                                { name: 'Qingbaijiang', value: 2 },
                                { name: 'Jianyang', value: 2 },
                                { name: 'Chongzhou', value: 1 },
                                { name: 'Wenjiang', value: 0 },
                                { name: 'Dujiangyan', value: 0 },
                                { name: 'Pengzhou', value: 0 },
                                { name: 'Jintang', value: 0 },
                                { name: 'Qionglai', value: 0 },
                                { name: 'Pujiang', value: 0 },
                            ],
                        },

                    ],
                    tooltip: {
                        triger: 'item',
                        showDelay: 0,
                        transitionDuration: 0.2
                    },
                    visualMap: {
                        left: 'right',
                        min: 0,
                        max: 50,
                        inRange: {
                            color: [
                                '#e0f3f8',
                                '#abd9e9',
                                '#74add1',
                                '#4575b4',
                                '#313695',
                            ]
                        },
                        text: ['High', 'Low'],
                        calculable: true
                    }
                };
                mapEcharts.setOption(options);
                mapEcharts.on("click", (params) => {
                    const item = allAreaCode.find((i) => i.name === params.name);
                    if (item) {
                        loadMap(item.code);
                    }
                });
            }
        </script>

</body>

</html>